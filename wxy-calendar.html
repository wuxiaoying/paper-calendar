<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-ripple/paper-ripple.html">
<link rel="import" href="../core-icons/core-icons.html">

<script src="../moment/moment.js"></script>

<polymer-element name="wxy-calendar" attributes="selectedDate events">
  <template>
    <link rel="stylesheet" href="wxy-calendar.css">
    <div id="month" horizontal layout center>
      <paper-icon-button icon="chevron-left" on-tap="{{goPrevMonth}}"></paper-icon-button>
      <div flex>
        {{monthDisplay}}
      </div>
      <paper-icon-button icon="chevron-right" on-tap="{{goNextMonth}}"></paper-icon-button>
    </div>
    <div id="weekdays">
      <template repeat="{{weekday in weekdaysDisplay}}">
        <div class="weekday">{{weekday}}</div>
      </template>
    </div>
    <div id="dates">
      <template repeat="{{week in month}}">
        <div>
          <template repeat="{{date in week}}">
            <wxy-calendar-date date="{{date}}" on-selected="{{onSelected}}"></paper-calendar-date>
          </template>
        </div>
      </template>
    </div>
   </template>
  <script src="wxy-calendar.js"></script>
</polymer-element>

<polymer-element name="wxy-calendar-date" attributes="date">
  <template>
    <link rel="stylesheet" href="wxy-calendar-date.css">
    <div
      on-tap="{{onSelect}}"
      class="{{ {date: true, today: date.isToday, event: date.isEvent, 'in-month': date.inCurrentMonth, 'selected-date': date.selected } | tokenList}}">
      {{date.date}}
    </div>
  </template>
  <script src="wxy-calendar-date.js"></script>
</polymer-element>
